# Spec Modernization Prompts

Run each of these as a separate Claude Code task (one per spec).

---

## 1. Sessions & Gateway

We're going to iterate on our architectural spec, `docs/specs/sessions-gateway.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 2. Sandbox Providers

We're going to iterate on our architectural spec, `docs/specs/sandbox-providers.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 3. Agent Contract

We're going to iterate on our architectural spec, `docs/specs/agent-contract.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 4. Automations & Runs

We're going to iterate on our architectural spec, `docs/specs/automations-runs.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 5. Triggers

We're going to iterate on our architectural spec, `docs/specs/triggers.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 6. Actions

We're going to iterate on our architectural spec, `docs/specs/actions.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 7. LLM Proxy

We're going to iterate on our architectural spec, `docs/specs/llm-proxy.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 8. CLI

We're going to iterate on our architectural spec, `docs/specs/cli.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 9. Repos & Prebuilds

We're going to iterate on our architectural spec, `docs/specs/repos-prebuilds.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 10. Secrets & Environment

We're going to iterate on our architectural spec, `docs/specs/secrets-environment.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 11. Integrations

We're going to iterate on our architectural spec, `docs/specs/integrations.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 12. Auth & Orgs

We're going to iterate on our architectural spec, `docs/specs/auth-orgs.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 13. Billing & Metering

We're going to iterate on our architectural spec, `docs/specs/billing-metering.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 14. Idle Snapshotting

We're going to iterate on our architectural spec, `docs/specs/idle-snapshotting.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.

---

## 15. Inbox & Workspace

We're going to iterate on our architectural spec, `docs/specs/inbox-workspace.md`. Here are the current source files. The codebase has moved faster than the spec. I need to modernize this spec for an AI-native workflow. 1. Delete Section 3 (File Tree) and Section 4 (Data Models) entirely. The codebase is the source of truth for this. 2. Rewrite Section 6 (Deep Dives) to remove step-by-step imperative code execution. Replace it with high-level declarative 'Invariants' and rules that the system must follow. 3. Retain and expand the 'Mental Models' and 'Things agents get wrong' sections based on the actual code. Update the full spec and do this in a new worktree. If there are any concerns with the spec please bring them up with me.
